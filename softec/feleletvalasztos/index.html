<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
<title> Feleltválasztós játék</title>
<meta name="color-scheme" content="light dark">
<link rel="stylesheet" href="../../assets/github-markdown.css">
<link rel="stylesheet" href="../../assets/article.css">

<link rel="stylesheet" href="xhttps://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism-coy.min.css" integrity="sha512-LOT5F67SMZVdXMrvQe4S1ZHu5l6xk3CST2qqno9kY329OsJBBpybnq+fM9qG4ZSaNzPOjoGzHAeBamSSJyyuZg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism-solarizedlight.min.css"  crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-numbers/prism-line-numbers.css"  crossorigin="anonymous" referrerpolicy="no-referrer" />
<style>
			body {
				box-sizing: border-box;
				min-width: 200px;
				max-width: 980px;
				margin: 0 auto;
				padding: 45px;
			}

			@media (prefers-color-scheme: dark) {
				body {
					background-color: #0d1117;
				}
			}
		</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css">
<style>
			.github-fork-ribbon:before {
				background-color: #121612;
			}
		</style>
</head>
<body>
<article class="markdown-body line-numbers">


<h1 id="feleltvalasztos-jatek">Feleltválasztós játék</h1>
<p>A példaalkalmazás az alábbi témákat érinti:</p>
<ul>
<li>Szövegfájlok megnyitása és soromként történő olvasása</li>
<li>Szövegfájl karakterkódolásának megadása</li>
<li>UserControlok használata</li>
<li>Metódusok túlterhelése</li>
</ul>
<h2 id="kiindulo-allomanyok-es-megoldas">Kiinduló állományok és megoldás</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="jatek.csv">jatek.csv</a></td>
<td>Kérdések - pontosvesszővel tagolt sorokban</td>
</tr>
<tr>
<td><a href="jatek2.txt">jatek2.txt</a></td>
<td>Kérdések - külön sorokba fejtve</td>
</tr>
<tr>
<td><a href="handout.docx">handout.docx</a></td>
<td>Előadás handout</td>
</tr>
<tr>
<td><a href="Jatek.zip">Jatek.zip</a></td>
<td>Előadás handout</td>
</tr>
</tbody>
</table>
<h2 id="a-megoldas-menete-videokon">A megoldás menete videókon</h2>
<p><a href="S1quiz1%20Filehandling-1.m4v">Fájlkezelés</a>
<a href="S1quiz2%20Uc-2.m4v">UserControl építése</a>
<a href="S1quiz3%20Ucfromon-3.m4v">UserControl-ok kirakása</a>
<a href="S1quiz4%20Overload-4.m4v">Túlterhelt konstruktor</a>
<a href="S1quiz5%20Coloring-5.m4v">Válaszok színezése</a>
<a href="S1quiz6%20Csv-6.m4v">CSV fájl kezelése</a>
<a href="S1quiz7%20Utf-7.m4v">Karakterkódolások</a></p>
<h3 id="ellenorzo-kerdesek">Ellenőrző kérdések</h3>
<ol>
<li>A StreamReader osztály mely tulajdonságából tudható meg, hogy tudunk-e még olvasni a fájlból?</li>
<li>Írd le azt a kódrészletet, mely megnyit egy tetszőleges szövegfájlt olvasásra, majd soronként beolvassa a tartalmát!</li>
<li>Írd le azt a kódrészletet, mely ciklusból kirak egy űrlapra egymás alá 10 gombot!</li>
<li>Mi a hiba a következő kódrészletbe: <code>StreamReader sr = new StreamReader(&quot;c:\tmp\valami.txt&quot;)</code>;</li>
<li>Mit jelöl a <code>@</code> karakter stringek előtt?</li>
<li>Hogyan lehet <code>string</code> típust <code>int</code>-é konvertálni? (Írj példát!)</li>
<li>Hogyan lehet <code>int</code> típust <code>string</code>-é konvertálni? (Írj példát!)</li>
</ol>
<h2 id="feleltvalasztos-jatek-felepitese-lepesrol-lepesre">Feleltválasztós játék felépítése lépésről lépésre</h2>
<blockquote>
<p>Azt tanácsoljuk, hogy a videók után önálóan probáljátok felépíteni a játékot az alábbi lépések mentén. Arra kérnénk mindenkit, hogy jelöljétek azokat a lépéseket, amivel kész vagytok, vagy ahol elakadtatok.</p>
</blockquote>
<h3 id="kiindulo-adatok-hozzaadasa-a-projekthez">Kiinduló adatok hozzáadása a projekthez</h3>
<p><span class='tg_task'>▷</span> Töltsd le a honlapról a <code>jatek2.txt</code> állományt, és vizsgáld meg a tartalmát!
<span class='tg_task'>▷</span> A fájlt húzd be a projektbe és a <em>Properties</em> ablakban a <em>Copy to output directory</em> beállítást állítsd „Copy if newer”-re!</p>
<h3 id="usercontrol-letrehozasa">UserControl létrehozása</h3>
<p><span class='tg_task'>▷</span> Hozz létre <code>UserControl</code>-t <code>KérdésUserControl</code> néven. A <code>KérdésUserControl</code>-ban helyezz el négy gombot és egy címkét a kérdésnek! A fenti vezérlők <code>Modifiers</code> tulajdonságát állítsd <code>public</code>-ra!</p>
<h3 id="fajl-felolvasasa">Fájl felolvasása</h3>
<p><span class='tg_task'>▷</span> A <code>Form1</code> osztály konstruktorában a <code>StreamReader</code> osztály segítségével nyiss d meg a <code>jatek2.txt</code> fájlt.
<span class='tg_task'>▷</span> A <code>StreamReader</code> osztály segítségével nyisd meg a fájlt, és egy <code>while</code> ciklus segítségével olvass be cikluslépésenként hat sort találó nevű és megfelelő típusú változókba:
-   az első sor a kérdés
-   az ezt kévető négy sor a négy lehetséges választ tartalmazza
-   a hatodik sor a helyes válasz sorszámát tartalmazó egész szám
<span class='tg_task'>▷</span> A ciklus törzsében hozz létre példányt a <code>KérdésUserControl-ból</code>, és add az űrlap vezélőiek listájához!
<span class='tg_task'>▷</span> Oldd meg, hogy a <code>KérdésUserControl</code>-ból létrehozott példányok egymás alá kerüljenek!
<span class='tg_task'>▷</span> Állítsd be <code>KérdésUserControl</code>-ból létrehozott példányban lévő címke és gomb szövegét értelemszerűen!</p>
<h3 id="jatekos-valaszainak-ellenorzese">Játékos válaszainak ellenőrzése</h3>
<p><span class='tg_task'>▷</span> Hozz létre egy publikus egész típusú változót a <code>KérdésUserControl</code> osztályban <code>JóVálasz</code> néven. Ebből tudja majd ellenőrizni a <code>KérdésUserControl</code>, hogy a felhasználó jó gombra kattintott-e.
10.  A sorokat olvasó ciklus törzsében a <code>KérdésUserControl</code> <code>JóVálasz</code> változóját is állítsd be!
11.  <code>KérdésUserControl</code>-ban rendelj eseménykiszolgálókat a gombokhoz. Minden eseménykiszolgáló színezze pirosra a hozzá tartozó gombot!
12.  Ezután a helyes válaszhoz tartozó gombot színezd zöldre!</p>
<h3 id="megoldas">Megoldás</h3>
<p>Kérdés UserControl code-behind</p>
<pre><code class="language-csharp">public partial class Kérdés : UserControl
{
    int jóválasz;
    public bool eltaláta = false;

    public Kérdés()
    {
	    InitializeComponent();
    }

    public Kérdés(string kédés, string v1, string v2, string v3, string v4, int jóválasz)
    {
	    InitializeComponent();
	    label1.Text = kédés;
	    button1.Text = v1;
	    button2.Text = v2;
	    button3.Text = v3;
	    button4.Text = v4;
	    this.jóválasz = jóválasz;
    }

    private void button1_Click(object sender, EventArgs e)
    {
	    button1.BackColor = Color.Red;
	    Színezd();
	    if (jóválasz == 1) eltaláta = true;
    }

    private void button2_Click(object sender, EventArgs e) (...)
    private void button3_Click(object sender, EventArgs e) (...)
    private void button4_Click(object sender, EventArgs e) (...)

    void Színezd()
    {
	    if (jóválasz == 1) button1.BackColor = Color.Green;
	    if (jóválasz == 2) button2.BackColor = Color.Green;
	    if (jóválasz == 3) button3.BackColor = Color.Green;
	    if (jóválasz == 4) button4.BackColor = Color.Green;
    }
}
</code></pre>
<p>Form1 code-behind</p>
<pre><code class="language-csharp">public Form1()
{
	InitializeComponent();
	StreamReader sr = new StreamReader(&quot;jatek2.csv&quot;, Encoding.Unicode);
	int pozíció = 0;
	while (!sr.EndOfStream)
	{
		string kérdés = sr.ReadLine();
		string válasz1 = sr.ReadLine();
		string válasz2 = sr.ReadLine();
		string válasz3 = sr.ReadLine();
		string válasz4 = sr.ReadLine();
		int jóválasz = Convert.ToInt32(sr.ReadLine());
		Kérdés k = new Kérdés(kérdés,válasz1,válasz2,válasz3,válasz4,jóválasz);
		panel1.Controls.Add(k);
		k.Top = pozíció * k.Height;
		pozíció++;
	}
}
</code></pre>

</article>

<a class="github-fork-ribbon" href="https://github.com/sindresorhus/github-markdown-css" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
<script src="../../assets/article.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/autoloader/prism-autoloader.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-numbers/prism-line-numbers.js"></script>

<!-- Video wrap -->
<div id="inlineVideo_template" class="jump nodisplay">
    <video id="centvideo" playsinline controls></video>
    <div></div>
</div>
</body>
</html>
